schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/data/data_ingestion.py
    deps:
    - path: data/external/Chrun.csv
      hash: md5
      md5: 0f9de68e012bd3aed5fa7cdc9fc421af
      size: 977501
    - path: src/data/data_ingestion.py
      hash: md5
      md5: 200f843d8054cd68498ff1e3fb41a0a6
      size: 2258
    outs:
    - path: data/raw/test.csv
      hash: md5
      md5: f3bffca8ab51da7a2123d6c1e6f7f57c
      size: 147652
    - path: data/raw/train.csv
      hash: md5
      md5: 3bca7be407b874498fe98cdddc454976
      size: 685840
    - path: data/raw/validation.csv
      hash: md5
      md5: dd40e7f29a21e14a4dde2735f96fc7ff
      size: 145985
  data_preprocessing:
    cmd: python src/data/data_preprocessing.py
    deps:
    - path: data/raw/test.csv
      hash: md5
      md5: f3bffca8ab51da7a2123d6c1e6f7f57c
      size: 147652
    - path: data/raw/train.csv
      hash: md5
      md5: 3bca7be407b874498fe98cdddc454976
      size: 685840
    - path: data/raw/validation.csv
      hash: md5
      md5: dd40e7f29a21e14a4dde2735f96fc7ff
      size: 145985
    - path: src/data/data_preprocessing.py
      hash: md5
      md5: 92b1d3f563ec52155d7e12584d56e4cb
      size: 3436
    outs:
    - path: data/interim/test_cleaned.csv
      hash: md5
      md5: 9e2d251bfb6ca75bc2ecae5c83ba21bc
      size: 209252
    - path: data/interim/train_cleaned.csv
      hash: md5
      md5: 006a9205f4fcf9147541a5f750534306
      size: 974188
    - path: data/interim/validation_cleaned.csv
      hash: md5
      md5: 7769f0c0df801baaa5c46e81c4ab0bb5
      size: 207969
  feature_engineering:
    cmd: python src/features/run_feature_engineering.py
    deps:
    - path: data/interim/test_cleaned.csv
      hash: md5
      md5: 9e2d251bfb6ca75bc2ecae5c83ba21bc
      size: 209252
    - path: data/interim/train_cleaned.csv
      hash: md5
      md5: 006a9205f4fcf9147541a5f750534306
      size: 974188
    - path: data/interim/validation_cleaned.csv
      hash: md5
      md5: 7769f0c0df801baaa5c46e81c4ab0bb5
      size: 207969
    - path: src/features/feature_engineering.py
      hash: md5
      md5: 54b21ef7d20350c152c925ea905a314f
      size: 1173
    - path: src/features/run_feature_engineering.py
      hash: md5
      md5: 123a50736919edcb39faa6b3ba3fb720
      size: 840
    outs:
    - path: data/processed/test_features.csv
      hash: md5
      md5: ad44d52d21007ed44a3825906b3316f5
      size: 206637
    - path: data/processed/train_features.csv
      hash: md5
      md5: 32998e8679f03635e06e52fb6c4c94cb
      size: 963401
    - path: data/processed/validation_features.csv
      hash: md5
      md5: abeb22a34ae5325485b2d5a83588270c
      size: 205233
  model_building:
    cmd: python src/model/model_building.py
    deps:
    - path: data/processed/train_features.csv
      hash: md5
      md5: 32998e8679f03635e06e52fb6c4c94cb
      size: 963401
    - path: data/processed/validation_features.csv
      hash: md5
      md5: abeb22a34ae5325485b2d5a83588270c
      size: 205233
    - path: src/model/model_building.py
      hash: md5
      md5: 0f481a6fec85ad8cdaa4822b981af864
      size: 4186
    outs:
    - path: models/model_artifacts
      hash: md5
      md5: 0285f952fedd494bbd7773807794d3b3.dir
      size: 2816910
      nfiles: 6
    - path: reports/shap/shap_global_importance.csv
      hash: md5
      md5: c0521af102ff01505c498e177cd7fd8e
      size: 1135
    - path: reports/shap/shap_summary.png
      hash: md5
      md5: 0df78a96110da3e5726e1c19cb8c62ee
      size: 110082
  model_evaluation:
    cmd: python src/model/model_evaluation.py
    deps:
    - path: data/processed/test_features.csv
      hash: md5
      md5: ad44d52d21007ed44a3825906b3316f5
      size: 206637
    - path: models/model_artifacts
      hash: md5
      md5: 0285f952fedd494bbd7773807794d3b3.dir
      size: 2816910
      nfiles: 6
    - path: src/model/model_evaluation.py
      hash: md5
      md5: 6c1d78e9a7131e426afc3e6935e82d1f
      size: 4593
    outs:
    - path: reports/evaluation/metrics.json
      hash: md5
      md5: 92e9b555875f6a75de4adf9d7c30a1ca
      size: 106
    - path: run_information.json
      hash: md5
      md5: f8f3a9b1df1be4dbd0c98d7a68bc3d61
      size: 375
  drift_detection:
    cmd: python src/monitoring/drift_detection.py
    deps:
    - path: data/processed/test_features.csv
      hash: md5
      md5: ad44d52d21007ed44a3825906b3316f5
      size: 206637
    - path: data/processed/train_features.csv
      hash: md5
      md5: 32998e8679f03635e06e52fb6c4c94cb
      size: 963401
    - path: src/monitoring/drift_detection.py
      hash: md5
      md5: ca52a2a03c38086eb618f46648ac4237
      size: 1528
    outs:
    - path: reports/drift/psi_report.json
      hash: md5
      md5: 5b65fb1836b4f9139594747576815818
      size: 707
  model_registry:
    cmd: python src/model/model_registry.py
    deps:
    - path: run_information.json
      hash: md5
      md5: f8f3a9b1df1be4dbd0c98d7a68bc3d61
      size: 375
    - path: src/model/model_registry.py
      hash: md5
      md5: 28334990c07da69fe1cf42e91a9d47a1
      size: 1168
