schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/data/data_ingestion.py
    deps:
    - path: data/external/Chrun.csv
      hash: md5
      md5: 0f9de68e012bd3aed5fa7cdc9fc421af
      size: 977501
    - path: src/data/data_ingestion.py
      hash: md5
      md5: 7462ea663438511bb3cb68554c956d87
      size: 2305
    outs:
    - path: data/raw/test.csv
      hash: md5
      md5: f3bffca8ab51da7a2123d6c1e6f7f57c
      size: 147652
    - path: data/raw/train.csv
      hash: md5
      md5: 3bca7be407b874498fe98cdddc454976
      size: 685840
    - path: data/raw/validation.csv
      hash: md5
      md5: dd40e7f29a21e14a4dde2735f96fc7ff
      size: 145985
  data_preprocessing:
    cmd: python src/data/data_preprocessing.py
    deps:
    - path: data/raw/test.csv
      hash: md5
      md5: f3bffca8ab51da7a2123d6c1e6f7f57c
      size: 147652
    - path: data/raw/train.csv
      hash: md5
      md5: 3bca7be407b874498fe98cdddc454976
      size: 685840
    - path: data/raw/validation.csv
      hash: md5
      md5: dd40e7f29a21e14a4dde2735f96fc7ff
      size: 145985
    - path: src/data/data_preprocessing.py
      hash: md5
      md5: 92b1d3f563ec52155d7e12584d56e4cb
      size: 3436
    outs:
    - path: data/interim/test_cleaned.csv
      hash: md5
      md5: 9e2d251bfb6ca75bc2ecae5c83ba21bc
      size: 209252
    - path: data/interim/train_cleaned.csv
      hash: md5
      md5: 006a9205f4fcf9147541a5f750534306
      size: 974188
    - path: data/interim/validation_cleaned.csv
      hash: md5
      md5: 7769f0c0df801baaa5c46e81c4ab0bb5
      size: 207969
  feature_engineering:
    cmd: python src/features/run_feature_engineering.py
    deps:
    - path: data/interim/test_cleaned.csv
      hash: md5
      md5: 9e2d251bfb6ca75bc2ecae5c83ba21bc
      size: 209252
    - path: data/interim/train_cleaned.csv
      hash: md5
      md5: 006a9205f4fcf9147541a5f750534306
      size: 974188
    - path: data/interim/validation_cleaned.csv
      hash: md5
      md5: 7769f0c0df801baaa5c46e81c4ab0bb5
      size: 207969
    - path: src/features/feature_engineering.py
      hash: md5
      md5: 97fbcc71dc15268a7fc3221c6babb9ee
      size: 1237
    - path: src/features/run_feature_engineering.py
      hash: md5
      md5: 45229eeb267b1a58ebe4a97d0fce0b29
      size: 867
    outs:
    - path: data/processed/test_features.csv
      hash: md5
      md5: ad44d52d21007ed44a3825906b3316f5
      size: 206637
    - path: data/processed/train_features.csv
      hash: md5
      md5: 32998e8679f03635e06e52fb6c4c94cb
      size: 963401
    - path: data/processed/validation_features.csv
      hash: md5
      md5: abeb22a34ae5325485b2d5a83588270c
      size: 205233
  model_building:
    cmd: python src/model/model_building.py
    deps:
    - path: data/processed/train_features.csv
      hash: md5
      md5: 32998e8679f03635e06e52fb6c4c94cb
      size: 963401
    - path: data/processed/validation_features.csv
      hash: md5
      md5: abeb22a34ae5325485b2d5a83588270c
      size: 205233
    - path: src/model/model_building.py
      hash: md5
      md5: cfb2f9df92df891abecac0a0e4703774
      size: 6357
    outs:
    - path: models/model_artifacts
      hash: md5
      md5: 641a8c3b85e47985322e9746663a6ca7.dir
      size: 623054
      nfiles: 5
    - path: reports/shap/shap_global_importance.csv
      hash: md5
      md5: 0381b7869a0430fa6d2cd999bb058925
      size: 1113
    - path: reports/shap/shap_summary.png
      hash: md5
      md5: 3b09f0cbe57f8ead3366ee048d3f86cc
      size: 97528
  model_evaluation:
    cmd: python src/model/model_evaluation.py
    deps:
    - path: data/processed/test_features.csv
      hash: md5
      md5: ad44d52d21007ed44a3825906b3316f5
      size: 206637
    - path: models/model_artifacts
      hash: md5
      md5: 641a8c3b85e47985322e9746663a6ca7.dir
      size: 623054
      nfiles: 5
    - path: src/model/model_evaluation.py
      hash: md5
      md5: 2e4743c7ab108264f5b6888f657d9992
      size: 3749
    outs:
    - path: reports/evaluation/metrics.json
      hash: md5
      md5: 383544b62bb21eb6d7a33b2c51572fef
      size: 107
    - path: run_information.json
      hash: md5
      md5: 0970efd552c9676df3b021884bbf3fea
      size: 358
  drift_detection:
    cmd: python src/monitoring/drift_detection.py
    deps:
    - path: data/processed/test_features.csv
      hash: md5
      md5: ad44d52d21007ed44a3825906b3316f5
      size: 206637
    - path: data/processed/train_features.csv
      hash: md5
      md5: 32998e8679f03635e06e52fb6c4c94cb
      size: 963401
    - path: src/monitoring/drift_detection.py
      hash: md5
      md5: a82b6f02a3d8404cd0e0176e4dc7378a
      size: 1608
    outs:
    - path: reports/drift/psi_report.json
      hash: md5
      md5: 5b65fb1836b4f9139594747576815818
      size: 707
  model_registry:
    cmd: python src/model/model_registry.py
    deps:
    - path: run_information.json
      hash: md5
      md5: 0970efd552c9676df3b021884bbf3fea
      size: 358
    - path: src/model/model_registry.py
      hash: md5
      md5: 28334990c07da69fe1cf42e91a9d47a1
      size: 1168
